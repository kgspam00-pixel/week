<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Promise Day ğŸ¤</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500&family=Inter:wght@300;400&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../style.css" />

<style>
.promise-title {
  font-size: 28px;
}

.promise-sub {
  font-size: 18px;
  opacity: 0.85;
  margin-bottom: 30px;
}

/* checklist */

.promise-item {
  display: flex;
  gap: 12px;
  margin: 16px 0;
  font-size: 21px;
  line-height: 1.6;
  cursor: pointer;
}

.promise-item input {
  transform: scale(1.2);
  cursor: pointer;
}

.promise-item.checked {
  opacity: 0.6;
  text-decoration: line-through;
}

/* heart pop */

.heart-pop {
  position: fixed;
  font-size: 18px;
  animation: floatUp 1.6s ease forwards;
  pointer-events: none;
}

/* final lines */

.soft {
  margin: 30px 0;
  font-size: 20px;
  opacity: 0.75;
  font-style: italic;
  display: none;
}

.final {
  margin-top: 36px;
  font-size: 24px;
  font-weight: 500;
  display: none;
}
</style>
</head>

<body>

<main class="week">

<!-- LOCKED -->
<section id="locked" style="display:none;">
  <h1>Not yet ğŸ¤</h1>
  <p class="subtitle">
    This page opens on Promise Day.<br>
    Some promises should be spoken slowly.
  </p>
</section>

<!-- UNLOCKED -->
<section id="unlocked" style="display:none;">

  <h1 class="promise-title">Promise Day ğŸ¤</h1>
  <p class="promise-sub">
    These arenâ€™t dramatic promises.<br>
    Theyâ€™re the everyday ones.<br><br>
    Check them with me.
  </p>

  <!-- YOUR PROMISES â€” UNCHANGED TEXT -->

  <label class="promise-item"><input type="checkbox"> I promise to choose you â€” not just when itâ€™s easy, but when it requires effort.</label>

  <label class="promise-item"><input type="checkbox"> I promise to be loyal. To never cheat. To never give my heart or attention where it doesnâ€™t belong.</label>

  <label class="promise-item"><input type="checkbox"> I promise to never walk away when things get uncomfortable. To stay. To talk. To work through it.</label>

  <label class="promise-item"><input type="checkbox"> I promise to listen â€” really listen â€” even when youâ€™re explaining the same thing for the third time.</label>

  <label class="promise-item"><input type="checkbox"> I promise to laugh at your bad jokes. And the ones that are so bad they circle back to being funny.</label>

  <label class="promise-item"><input type="checkbox"> I promise to tolerate your dark humor, even when I roll my eyes a little.</label>

  <label class="promise-item"><input type="checkbox"> I promise to correct your English â€” gently â€” and pretend I didnâ€™t enjoy being right.</label>

  <label class="promise-item"><input type="checkbox"> I promise to be proud of you. And more importantly, to remind you of that when you forget.</label>

  <label class="promise-item"><input type="checkbox"> I promise to be your cheerleader â€” in rooms you walk into confidently, and in moments when you doubt yourself.</label>

  <label class="promise-item"><input type="checkbox"> I promise to celebrate your wins like theyâ€™re mine. Because they are.</label>

  <label class="promise-item"><input type="checkbox"> I promise to be patient on your bad days, and grateful on the good ones.</label>

  <!-- hidden until all checked -->

  <p class="soft" id="softLine">
    I canâ€™t promise perfection.<br>
    But I can promise intention.
  </p>

  <p class="final" id="finalLine">
    This is me â€” choosing you, every day.
  </p>

  <p class="footer">
    Tomorrow is about closeness ğŸ«‚
  </p>

</section>
<div class="back">
      <a href="../index.html">â† Back to the diary</a>
    </div>
</main>

<script src="../week.js"></script>

<script>
handleDayUnlock("promise");
markProgress("promise");

const items = document.querySelectorAll(".promise-item");
const checks = document.querySelectorAll(".promise-item input");
const soft = document.getElementById("softLine");
const final = document.getElementById("finalLine");

checks.forEach((cb, i) => {
  cb.addEventListener("change", e => {
    items[i].classList.toggle("checked");

    popHeart(e.clientX, e.clientY);

    if ([...checks].every(c => c.checked)) {
      soft.style.display = "block";
      final.style.display = "block";
    }
  });
});

function popHeart(x, y){
  const h = document.createElement("div");
  h.className = "heart-pop";
  h.textContent = "â™¡";
  h.style.left = x + "px";
  h.style.top = y + "px";
  document.body.appendChild(h);
  setTimeout(() => h.remove(), 1600);
}
</script>

</body>
</html>
