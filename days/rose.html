<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Rose Day ğŸŒ¹</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500&family=Inter:wght@300;400&display=swap" rel="stylesheet">

<!-- correct relative path -->
<link rel="stylesheet" href="../style.css">

<style>
.rose-wrap {
  text-align: center;
  margin-top: 30px;
}

.roses {
  display: flex;
  justify-content: center;
  gap: 28px;
  font-size: 44px;
  margin: 28px 0;
}

.rose {
  cursor: pointer;
  transition: transform .25s ease;
}

.rose:hover {
  transform: scale(1.25) rotate(-6deg);
}

#roseMessage {
  display: none;
  margin-top: 26px;
  font-size: 20px;
  line-height: 1.6;
  animation: fadeIn 0.6s ease;
}

/* ğŸŒ¸ floating petals */

.petal {
  position: fixed;
  top: -20px;
  font-size: 18px;
  opacity: 0.8;
  pointer-events: none;
  animation: fall linear forwards;
}

@keyframes fall {
  to {
    transform: translateY(110vh) rotate(360deg);
    opacity: 0;
  }
}

.back {
  margin-top: 36px;
}
</style>
</head>

<body>

<main class="card">

  <!-- LOCKED -->
  <div id="locked" style="display:none">
    <h1>ğŸŒ¹ Rose Day</h1>
    <p>This page is still a bud.<br>Come back when it blooms.</p>
    <a href="../index.html">â† Back</a>
  </div>

  <!-- UNLOCKED -->
  <div id="unlocked" style="display:none">

    <h1>Rose Day ğŸŒ¹</h1>
    <p class="subtitle">
      If I could, Iâ€™d hand you one in person.<br>
      For now â€” pick one.
    </p>

    <div class="rose-wrap">
      <div class="roses">
        <span class="rose">ğŸŒ¹</span>
        <span class="rose">ğŸŒ¸</span>
        <span class="rose">ğŸŒº</span>
        <span class="rose">ğŸŒ·</span>
      </div>

      <div id="roseMessage"></div>
    </div>

    <div class="back">
      <a href="../index.html">â† Back to the diary</a>
    </div>

  </div>

</main>

<script src="../week.js"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {

  handleDayUnlock("rose");
  markProgress("rose");

  const messages = [
    `ğŸŒ¹ Classic rose.<br><br>
     For admiration.<br>
     For the way I look at you and think â€” yes, him.`,

    `ğŸŒ¸ Soft bloom.<br><br>
     For your gentleness with me.<br>
     The version of you only I get to see.`,

    `ğŸŒº Warm flower.<br><br>
     For your presence.<br>
     You donâ€™t just enter rooms â€” you change them.`,

    `ğŸŒ· Steady tulip.<br><br>
     For consistency.<br>
     For choosing â€” and staying.`
  ];

  const roses = document.querySelectorAll(".rose");
  const box = document.getElementById("roseMessage");

  roses.forEach((r, i) => {
    r.onclick = () => {
      box.innerHTML = messages[i];
      box.style.display = "block";
      burstPetals();
    };
  });

  /* ğŸŒ¸ petal burst */
  function burstPetals() {
    for (let i = 0; i < 18; i++) {
      const p = document.createElement("div");
      p.className = "petal";
      p.innerText = Math.random() > 0.5 ? "ğŸŒ¸" : "ğŸŒº";
      p.style.left = Math.random() * 100 + "vw";
      p.style.animationDuration = (4 + Math.random() * 3) + "s";
      document.body.appendChild(p);
      setTimeout(() => p.remove(), 7000);
    }
  }

});
</script>

</body>
</html>
