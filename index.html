<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>For You - One Day at a Time</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600&family=Inter:wght@300;400&display=swap" rel="stylesheet">

  <!-- Use RELATIVE paths for GitHub Pages safety -->
  <link rel="stylesheet" href="style.css">
</head>

<body>

<main class="week">

  <h1>For You - One Day at a Time</h1>

  <p class="subtitle">
    Some things are meant to be opened slowly.
  </p>

  <!-- Sweet intro message -->
  <div class="intro">
    <p>
      I wanted to do something a little different for my extremely smart and nerdy boyfriend.
    </p>

    <p>
      Not loud. Not rushed.  
      Just something that unfolds the way love does -
      gently, intentionally, one day at a time.
    </p>

    <p>
      So this is a small space I made for you.
      Something to come back to.
      Something to wait for.
    </p>

    <p>
      Every day has its own page.
      And every page has a piece of my heart in it.
    </p>
  </div>

  <!-- Dynamic Countdown / Status -->
  <div class="countdown">
    <p class="countdown-label" id="countdownLabel"></p>
    <div id="timer">calculating‚Ä¶</div>
    <p class="countdown-note" id="countdownNote"></p>
  </div>

  <!-- Valentine Week Days -->
  <div class="days">
    <a class="day-btn" href="days/rose.html">üåπ Rose Day</a>
    <a class="day-btn" href="days/propose.html">üíç Propose Day</a>
    <a class="day-btn" href="days/chocolate.html">üç´ Chocolate Day</a>
    <a class="day-btn" href="days/teddy.html">üß∏ Teddy Day</a>
    <a class="day-btn" href="days/promise.html">ü§ç Promise Day</a>
    <a class="day-btn" href="days/hug.html">ü´Ç Hug Day</a>
    <a class="day-btn" href="days/kiss.html">üíã Kiss Day</a>
    <a class="day-btn" href="days/valentine.html">‚ù§Ô∏è Valentine‚Äôs Day</a>
  </div>

  <p class="footer">
    Each page unlocks automatically at midnight IST.<br>
    Nothing to do but show up ‚ô°
  </p>

</main>

<!-- Core logic -->
<script src="week.js"></script>

<!-- IST Safe Dynamic Countdown -->
<script>
  function getISTNow() {
    const now = new Date();
    const utc = now.getTime() + now.getTimezoneOffset() * 60000;
    return new Date(utc + 5.5 * 60 * 60 * 1000);
  }

  const firstUnlock = new Date("2026-02-07T00:00:00+05:30");
  const finalUnlock = new Date("2026-02-14T00:00:00+05:30");

  const label = document.getElementById("countdownLabel");
  const note = document.getElementById("countdownNote");
  const timer = document.getElementById("timer");

  function updateTimer() {
    const now = getISTNow();

    // BEFORE WEEK
    if (now < firstUnlock) {
      label.textContent = "Your first page opens in";
      note.innerHTML = "I made this for you.<br>Come back when the clock says so ‚ô°";

      const diff = firstUnlock - now;

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);

      timer.innerHTML = `${days}d ${hours}h ${minutes}m ${seconds}s`;
    }

    // DURING WEEK
    else if (now >= firstUnlock && now < finalUnlock) {
      label.textContent = "Valentine Week is unfolding ‚ô°";
      note.innerHTML = "A new page unlocks every midnight IST.<br>Come back tomorrow for the next piece of my heart.";
      timer.innerHTML = "";
    }

    // AFTER WEEK
    else {
      label.textContent = "All pages are unlocked ‚ù§Ô∏è";
      note.innerHTML = "You now have the whole week. Keep them forever.";
      timer.innerHTML = "";
    }
  }

  updateTimer();
  setInterval(updateTimer, 1000);
</script>

</body>
</html>
